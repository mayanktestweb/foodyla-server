(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{107:function(t,e,i){"use strict";var n=i(33);i.n(n).a},108:function(t,e,i){(t.exports=i(3)(!1)).push([t.i,"\ndiv.details[data-v-b797e0ca] {\r\n    width: 100%;\r\n    height: 100%;\n}\ndiv.processing[data-v-b797e0ca] {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: -webkit-box;\r\n    display: flex;\r\n    -webkit-box-pack: center;\r\n            justify-content: center;\r\n    -webkit-box-align: center;\r\n            align-items: center;\n}\ndiv.data[data-v-b797e0ca] {\r\n    width: 100%;\r\n    display: -webkit-box;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n            flex-flow: column;\n}\ndiv.customer[data-v-b797e0ca] {\r\n    display: -webkit-box;\r\n    display: flex;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n            flex-flow: row;\r\n    padding: 10px;\r\n    -webkit-box-pack: justify;\r\n            justify-content: space-between;\r\n    -webkit-box-align: center;\r\n            align-items: center;\n}\ndiv.cust[data-v-b797e0ca] {\r\n    display: -webkit-box;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n            flex-flow: column;\n}\ndiv.address[data-v-b797e0ca] {\r\n    padding: 10px;\n}\ndiv.restaurant[data-v-b797e0ca] {\r\n    padding: 10px;\n}\ndiv.dish[data-v-b797e0ca] {\r\n    width: 100%;\r\n    display: -webkit-box;\r\n    display: flex;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n            flex-flow: row;\r\n    -webkit-box-pack: justify;\r\n            justify-content: space-between;\r\n    -webkit-box-align: center;\r\n            align-items: center;\n}\ndiv.dish_detail[data-v-b797e0ca] {\r\n    display: -webkit-box;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n            flex-flow: column;\n}\ndiv.hr[data-v-b797e0ca] {\r\n    margin: 15px 0px;\r\n    height: 1px;\r\n    background-color: lightgray;\n}\ndiv.action > div[data-v-b797e0ca] {\r\n    display: -webkit-box;\r\n    display: flex;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n            flex-flow: row;\r\n    -webkit-box-pack: center;\r\n            justify-content: center;\r\n    -webkit-box-align: center;\r\n            align-items: center;\n}\r\n",""])},171:function(t,e,i){"use strict";i.r(e);var n=i(1),r=i.n(n),o=i(2),a={props:["id"],data:function(){return{order:null,processing:!1,mobile_number:"",delivery_code:"",confirming_code:!1,confirm_msg:"",delivery_confirmed:!1}},methods:{confirmDeliveryCode:function(){var t=this;this.confirming_code=!0,r.a.post(o.a.confirm_delivery_code,{id:this.id,delivery_code:this.delivery_code}).then(function(e){"200"==e.status&&("success"==e.data.status?(t.delivery_confirmed=!0,t.confirm_msg="Delivery Successful"):(t.delivery_confirmed=!1,t.confirm_msg="Verification Failed!"))}).catch(function(e){t.confirm_msg="Something went wrong ! Try Again.",t.delivery_confirmed=!1}).finally(function(){t.confirming_code=!1})},callNumber:function(){try{console.log(this.mobile_number),Android.callNumber(this.mobile_number)}catch(t){}},copyLocation:function(){var t=document.getElementById("latlong");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy")},setStartWorking:function(){localStorage.setItem("working_order_id",this.id)},workStarted:function(){return localStorage.getItem("working_order_id")!=this.id}},computed:{total_cost:function(){var t=0;return this.order.dishes.forEach(function(e){t+=e.cost*e.count}),t},total_price:function(){var t=0;return this.order.dishes.forEach(function(e){t+=e.price*e.count}),(t-=this.order.discount)+this.order.delivery_charge}},created:function(){var t=this;this.processing=!0,r.a.get(o.a.order_details,{params:{id:this.id}}).then(function(e){t.order=e.data,t.mobile_number=e.data.mobile_number,"delivered"!=t.order.status&&"cancel"!=t.order.status||(t.delivery_confirmed=!0)}).catch(function(t){window.alert("something went wrong while loading order details")}).finally(function(){t.processing=!1})}},s=(i(107),i(0)),d=Object(s.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"details"},[t.processing?i("div",{staticClass:"processing"},[i("v-progress-circular",{attrs:{color:"amber",indeterminate:""}})],1):i("div",{staticClass:"data"},[i("div",{staticClass:"customer"},[i("div",{staticClass:"cust"},[i("div",{staticClass:"title grey--text"},[t._v(t._s(t.order.customer_name))]),t._v(" "),i("div",{staticStyle:{"font-size":"1.2em"}},[t._v("Total Price \n                    "),i("span",{staticClass:"font-weight-medium green--text text--darken-3"},[t._v("\n                        "+t._s(t.total_price)+"\n                    ")])])]),t._v(" "),i("div",[i("v-btn",{attrs:{color:"success",fab:"",dark:""},on:{click:function(e){return t.callNumber()}}},[i("v-icon",[t._v("phone")])],1)],1)]),t._v(" "),i("div",{staticClass:"address"},[i("div",{staticClass:"font-weight-medium grey--text"},[t._v("Delivery Address")]),t._v(" "),i("div",{staticClass:"font-weight-medium black--text"},[t._v("\n                "+t._s(t.order.address)+"\n            ")]),t._v(" "),i("div",[i("input",{attrs:{type:"text",id:"latlong"},domProps:{value:t.order.latlong}}),i("br"),t._v(" "),i("v-btn",{attrs:{color:"green",dark:""},on:{click:function(e){return t.copyLocation()}}},[t._v("Copy Location")])],1)]),t._v(" "),i("div",{staticClass:"restaurant"},[i("div",{staticClass:"title"},[t._v(t._s(t.order.restaurant))]),t._v(" "),i("div",{staticStyle:{"font-size":"1.2em"}},[t._v("Total Cost \n                "),i("span",{staticClass:"font-weight-medium orange--text"},[t._v("\n                    "+t._s(t.total_cost)+"\n                ")])]),t._v(" "),i("div",{staticClass:"hr"}),t._v(" "),t._l(this.order.dishes,function(e){return i("div",{key:e.name,staticClass:"dishes"},[i("div",{staticClass:"dish"},[i("div",{staticClass:"dish_detail"},[i("div",{staticClass:"font-weight-medium grey--text text--darken-3",staticStyle:{"font-size":"1em"}},[t._v("\n                            "+t._s(e.name)+"\n                        ")]),t._v(" "),i("div",{staticClass:"font-weight-medium grey--text text--darken-1",staticStyle:{"font-size":"0.8em"}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])]),t._v(" "),i("div",[t._v("\n                        "+t._s(e.count)+"\n                    ")])])])})],2),t._v(" "),i("div",{staticClass:"action"},[i("div",[t._v("Order Id : "+t._s(this.id))]),t._v(" "),t.delivery_confirmed||"cancel"==this.order.status&&"delivered"==this.order.status?t._e():i("div",[i("v-text-field",{attrs:{label:"Enter Delivery Code"},model:{value:t.delivery_code,callback:function(e){t.delivery_code=e},expression:"delivery_code"}}),t._v(" "),i("v-btn",{attrs:{color:"warning",dark:""},on:{click:function(e){return t.confirmDeliveryCode()}}},[t._v("Send")])],1),t._v(" "),i("div",[t.confirming_code?i("div",[i("div",{staticClass:"confirming"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"warning",size:"20"}})],1)]):i("div",{class:[t.delivery_confirmed?"green--text":"red--text","font-weight-medium"]},[t._v("\n                    "+t._s(this.confirm_msg)+"\n                ")])]),t._v(" "),!t.delivery_confirmed&&t.workStarted()?i("div",[i("v-btn",{attrs:{color:"green",dark:"",block:""},on:{click:function(e){return t.setStartWorking()}}},[t._v("Start Working")])],1):t._e()])])])},[],!1,null,"b797e0ca",null);e.default=d.exports},33:function(t,e,i){var n=i(108);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,r);n.locals&&(t.exports=n.locals)}}]);
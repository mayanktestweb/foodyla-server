(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{115:function(e,t,r){"use strict";r.r(t);var i=r(3),n=r.n(i),a=r(4),s={data:function(){return{loading:!1,order_message:"",order_successful:!1,order_id:"1221A5",delivery_code:"2341"}},created:function(){this.confirmOrder()},methods:{confirmOrder:function(){var e=this;this.loading=!0,n.a.post(a.a.confirm_order,{user_id:this.$store.state.user_id,mobile_number:this.$store.state.mobile_number,restaurant_id:this.$store.state.cart_restaurant,current_location:this.$store.state.current_location,location_description:this.$store.state.location_description,latlong:this.$store.state.lat_long.lat+","+this.$store.state.lat_long.long,order:this.getOrder(),delivery_code:this.generateDeliveryCode()}).then(function(t){if(200==t.status){if(e.loading=!1,e.order_successful=!0,e.order_id=t.data.order_id,e.delivery_code=t.data.delivery_code,e.order_message="Your Order is placed successfully. Thanks for using Foodyla.",null==localStorage.getItem("orders"))var r=[];else r=JSON.parse(localStorage.getItem("orders"));var i={order_id:e.order_id,delivery_code:e.delivery_code,status:null};r.splice(0,0,i),localStorage.setItem("orders",JSON.stringify(r))}else e.order_successful=!1,e.order_message="Sorry Something went wrong while placing your order"}).catch(function(e){console.log("error "+e)})},getOrder:function(){var e=[],t=[];this.$store.getters.cart.forEach(function(r){e[r.varient_id]?e[r.varient_id].count+=1:(e[r.varient_id]={dish_id:r.dish_id,varient_id:r.varient_id,price:r.varient_price,count:1},t.push(r.varient_id))});var r=[];return t.forEach(function(t){r.push(e[t])}),r},generateDeliveryCode:function(){for(var e=[],t=0;t<4;t++)e.push(Math.floor(10*Math.random()));return e.join("")}},watch:{order_successful:function(e,t){var r=this;if(e){var i=[];this.$store.getters.cart.forEach(function(e){i.push(e)}),i.forEach(function(e){r.$store.dispatch("removeDishVarient",e.varient_id)})}}}},o=(r(70),r(0)),d=Object(o.a)(s,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mainCO white"},[e.loading?r("div",{staticClass:"main_loading"},[r("div",{staticClass:"spinner"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"orange darken-3"}})],1),e._v(" "),r("div",{staticClass:"loading_text orange--text text--darken-3 title"},[e._v("\n            Wait a second. Your Order is in progress.\n        ")])]):r("div",{staticClass:"main_loading"},[r("div",{staticClass:"main_message",class:[e.order_successful?"green--text":"red--text","title"]},[e._v("\n            "+e._s(e.order_message)+"\n        ")]),e._v(" "),e.order_successful?r("div",{staticClass:"order_details"},[r("div",{staticClass:"title orange--text text--darken-3"},[e._v("Order ID: "+e._s(e.order_id))]),e._v(" "),r("div",{staticClass:"title orange--text text--darken-3"},[e._v("Delivery Code : "+e._s(e.delivery_code))])]):e._e()])])},[],!1,null,"0de55eb3",null);t.default=d.exports},23:function(e,t,r){var i=r(71);"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(2)(i,n);i.locals&&(e.exports=i.locals)},70:function(e,t,r){"use strict";var i=r(23);r.n(i).a},71:function(e,t,r){(e.exports=r(1)(!1)).push([e.i,'div.mainCO[data-v-0de55eb3] {\n  height: 100%;\n}\ndiv.main_loading[data-v-0de55eb3] {\n  height: 100%;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-flow: column;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n}\ndiv.spinner[data-v-0de55eb3] {\n  padding: 20px;\n  text-align: center;\n}\ndiv.loading_text[data-v-0de55eb3] {\n  text-align: center;\n}\ndiv.main_message[data-v-0de55eb3] {\n  text-align: center;\n  padding: 20px;\n  width: 100%;\n  font-family: "Lobster", cursive !important;\n  font-size: 2em !important;\n  text-shadow: 2px 2px 2px yellow;\n}\ndiv.order_details[data-v-0de55eb3] {\n  margin-top: 20px;\n}\ndiv.order_details > div[data-v-0de55eb3] {\n  padding: 5px;\n}',""])}}]);